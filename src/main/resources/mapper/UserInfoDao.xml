<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smart.bracelet.dao.UserInfoDao">

    <resultMap type="com.smart.bracelet.model.UserInfo" id="UserInfoMap">
        <result property="userInfoId" column="user_info_id" jdbcType="INTEGER"/>
        <result property="userAccount" column="user_account" jdbcType="VARCHAR"/>
        <result property="userPwd" column="user_pwd" jdbcType="VARCHAR"/>
        <result property="userName" column="user_name" jdbcType="VARCHAR"/>
        <result property="identificationNumber" column="identification_number" jdbcType="VARCHAR"/>
        <result property="phoneNumber" column="phone_number" jdbcType="VARCHAR"/>
        <result property="userBirthday" column="user_birthday" jdbcType="VARCHAR"/>
        <result property="userAvatar" column="user_avatar" jdbcType="VARCHAR"/>
        <result property="userSex" column="user_sex" jdbcType="VARCHAR"/>
        <result property="userStatus" column="user_status" jdbcType="VARCHAR"/>
        <result property="createTime" column="create_time" jdbcType="TIMESTAMP"/>
        <result property="updateTime" column="update_time" jdbcType="TIMESTAMP"/>
        <result property="remarks" column="remarks" jdbcType="VARCHAR"/>
    </resultMap>

    <insert id="addUserInfo"  parameterType="com.smart.bracelet.model.UserInfo">
        insert into user_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="userInfoId != null">
                user_info_id,
            </if>
            <if test="userAccount != null">
                user_account,
            </if>
            <if test="userPwd != null">
                user_pwd,
            </if>
            <if test="userName != null">
                user_name,
            </if>
            <if test="identificationNumber != null">
                identification_number,
            </if>
            <if test="phoneNumber != null">
                phone_number,
            </if>
            <if test="userBirthday != null">
                user_birthday,
            </if>
            <if test="userAvatar != null">
                user_avatar,
            </if>
            <if test="userSex != null">
                user_sex,
            </if>
            <if test="userStatus != null">
                user_status,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
            <if test="remarks != null">
                remarks,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userInfoId != null">
                #{userInfoId,jdbcType=BIGINT},
            </if>
            <if test="userAccount != null">
                #{userAccount,jdbcType=VARCHAR},
            </if>
            <if test="userPwd != null">
                #{userPwd,jdbcType=VARCHAR},
            </if>
            <if test="userName != null">
                #{userName,jdbcType=VARCHAR},
            </if>
            <if test="identificationNumber != null">
                #{identificationNumber,jdbcType=VARCHAR},
            </if>
            <if test="phoneNumber != null">
                #{phoneNumber,jdbcType=CHAR},
            </if>
            <if test="userBirthday != null">
                #{userBirthday,jdbcType=VARCHAR},
            </if>
            <if test="userAvatar != null">
                #{userAvatar,jdbcType=VARCHAR},
            </if>
            <if test="userSex != null">
                #{userSex,jdbcType=CHAR},
            </if>
            <if test="userStatus != null">
                #{userStatus,jdbcType=CHAR},
            </if>
            <if test="createTime != null">
                #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="updateTime != null">
                #{updateTime,jdbcType=TIMESTAMP},
            </if>
            <if test="remarks != null">
                #{remarks,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>


    <select id="selectUserInfoAccount" resultMap="UserInfoMap">
        SELECT
        `user_info_id`,
        `user_account`,
        `user_pwd`,
        `user_name`,
        `identification_number`,
        `phone_number`,
        `user_birthday`,
        `user_avatar`,
        `user_sex`,
        `user_status`,
        `create_time`,
        `update_time`,
        `remarks`
        FROM
        `user_info`
        WHERE `user_account`= #{userAccount,jdbcType=VARCHAR}
    </select>

</mapper>
