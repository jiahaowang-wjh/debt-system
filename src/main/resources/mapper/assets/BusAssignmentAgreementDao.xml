<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smart.bracelet.dao.assets.BusAssignmentAgreementDao">
    <resultMap id="BaseResultMap" type="com.smart.bracelet.model.po.assets.BusAssignmentAgreement">
        <id column="assignment_agreement_id" jdbcType="BIGINT" property="assignmentAgreementId"/>
        <result column="assignment_agreement_no" jdbcType="VARCHAR" property="assignmentAgreementNo"/>
        <result column="propert_id" jdbcType="BIGINT" property="propertId"/>
        <result column="defuse_way" jdbcType="VARCHAR" property="defuseWay"/>
        <result column="money_way" jdbcType="VARCHAR" property="moneyWay"/>
        <result column="agreement_date" jdbcType="DATE" property="agreementDate"/>
        <result column="agreement_date_end" jdbcType="DATE" property="agreementDateEnd"/>
        <result column="partya_seal" jdbcType="VARCHAR" property="partyaSeal"/>
        <result column="partyb_seal" jdbcType="VARCHAR" property="partybSeal"/>
        <result column="partya_signup_time" jdbcType="DATE" property="partyaSignupTime"/>
        <result column="partyb_signup_time" jdbcType="DATE" property="partybSignupTime"/>
        <result column="signup_addr" jdbcType="VARCHAR" property="signupAddr"/>
    </resultMap>
    <sql id="Base_Column_List">
    assignment_agreement_id, propert_id, defuse_way, money_way, agreement_date, agreement_date_end, 
    partya_seal, partyb_seal, partya_signup_time, partyb_signup_time, signup_addr,assignment_agreement_no
  </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from bus_assignment_agreement
        where assignment_agreement_id = #{assignmentAgreementId,jdbcType=BIGINT}
    </select>
    <select id="queryList" resultType="com.smart.bracelet.model.po.assets.BusAssignmentAgreement">
       SELECT assignment_agreement_id, propert_id, defuse_way, money_way, agreement_date, agreement_date_end, partya_seal, partyb_seal, partya_signup_time, partyb_signup_time, signup_addr FROM bus_assignment_agreement
    </select>
    <select id="selectNo" resultType="java.lang.String">
        SELECT  `bus_assignment_agreement`.assignment_agreement_no  FROM   `bus_assignment_agreement`   ORDER   BY   `bus_assignment_agreement`.assignment_agreement_id   DESC   LIMIT   1
    </select>
    <select id="initialize" resultType="com.smart.bracelet.model.vo.assets.BusAssignmentAgreementShow">
        SELECT pd.service_principal,pd.service_interest,br.`report_propert`,pd.`debt_yaer`,brp.`data1` AS 'personName',br.`report_id`,br.obligat_time,br.`data1` AS 'debtName',br.`data2` AS 'idCard',br.data5 AS 'priAdd',br.`data7` AS 'corBankAdd',br.`data3` AS 'priPhone',br.`data9` AS 'corBankPhone',
        pd.amount_this
        FROM  pub_debt pd
		LEFT JOIN bus_report br ON br.`report_id` = pd.`report_id`
        LEFT JOIN bus_relative_person brp ON brp.`report_id` = pd.`report_id`
        WHERE brp.`relative_per_id` = #{relativePerId,jdbcType=BIGINT}
    </select>
    <select id="selectByProId" resultType="com.smart.bracelet.model.po.assets.BusAssignmentAgreement"
            parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from bus_assignment_agreement
        where propert_id = #{propertId,jdbcType=BIGINT}
    </select>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    delete from bus_assignment_agreement
    where assignment_agreement_id = #{assignmentAgreementId,jdbcType=BIGINT}
    </delete>

    <insert id="insertSelective" parameterType="com.smart.bracelet.model.po.assets.BusAssignmentAgreement">
        insert into bus_assignment_agreement
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="assignmentAgreementId != null">
                assignment_agreement_id,
            </if>
            <if test="assignmentAgreementNo != null">
                assignment_agreement_no,
            </if>
            <if test="propertId != null">
                propert_id,
            </if>
            <if test="defuseWay != null">
                defuse_way,
            </if>
            <if test="moneyWay != null">
                money_way,
            </if>
            <if test="agreementDate != null">
                agreement_date,
            </if>
            <if test="agreementDateEnd != null">
                agreement_date_end,
            </if>
            <if test="partyaSeal != null">
                partya_seal,
            </if>
            <if test="partybSeal != null">
                partyb_seal,
            </if>
            <if test="partyaSignupTime != null">
                partya_signup_time,
            </if>
            <if test="partybSignupTime != null">
                partyb_signup_time,
            </if>
            <if test="signupAddr != null">
                signup_addr,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="assignmentAgreementId != null">
                #{assignmentAgreementId,jdbcType=BIGINT},
            </if>
            <if test="assignmentAgreementNo != null">
                #{assignmentAgreementNo,jdbcType=VARCHAR},
            </if>
            <if test="propertId != null">
                #{propertId,jdbcType=BIGINT},
            </if>
            <if test="defuseWay != null">
                #{defuseWay,jdbcType=VARCHAR},
            </if>
            <if test="moneyWay != null">
                #{moneyWay,jdbcType=VARCHAR},
            </if>
            <if test="agreementDate != null">
                #{agreementDate,jdbcType=DATE},
            </if>
            <if test="agreementDateEnd != null">
                #{agreementDateEnd,jdbcType=DATE},
            </if>
            <if test="partyaSeal != null">
                #{partyaSeal,jdbcType=VARCHAR},
            </if>
            <if test="partybSeal != null">
                #{partybSeal,jdbcType=VARCHAR},
            </if>
            <if test="partyaSignupTime != null">
                #{partyaSignupTime,jdbcType=DATE},
            </if>
            <if test="partybSignupTime != null">
                #{partybSignupTime,jdbcType=DATE},
            </if>
            <if test="signupAddr != null">
                #{signupAddr,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective"
            parameterType="com.smart.bracelet.model.vo.assets.BusAssignmentAgreementVo">
        update bus_assignment_agreement
        <set>
            <if test="propertId != null">
                propert_id = #{propertId,jdbcType=BIGINT},
            </if>
            <if test="assignmentAgreementNo != null">
                assignment_agreement_no = #{assignmentAgreementNo,jdbcType=VARCHAR},
            </if>
            <if test="defuseWay != null">
                defuse_way = #{defuseWay,jdbcType=VARCHAR},
            </if>
            <if test="moneyWay != null">
                money_way = #{moneyWay,jdbcType=VARCHAR},
            </if>
            <if test="agreementDate != null">
                agreement_date = #{agreementDate,jdbcType=DATE},
            </if>
            <if test="agreementDateEnd != null">
                agreement_date_end = #{agreementDateEnd,jdbcType=DATE},
            </if>
            <if test="partyaSeal != null">
                partya_seal = #{partyaSeal,jdbcType=VARCHAR},
            </if>
            <if test="partybSeal != null">
                partyb_seal = #{partybSeal,jdbcType=VARCHAR},
            </if>
            <if test="partyaSignupTime != null">
                partya_signup_time = #{partyaSignupTime,jdbcType=DATE},
            </if>
            <if test="partybSignupTime != null">
                partyb_signup_time = #{partybSignupTime,jdbcType=DATE},
            </if>
            <if test="signupAddr != null">
                signup_addr = #{signupAddr,jdbcType=VARCHAR},
            </if>
        </set>
        where assignment_agreement_id = #{assignmentAgreementId,jdbcType=BIGINT}
    </update>
</mapper>